{"version":3,"sources":["UI/Modal/Modal.module.css","UI/Button/Button.module.css","UI/Input/Input.module.css","UI/Select/Select.module.css","pages/Layout.jsx","pages/Home.jsx","UI/Button/Button.jsx","Components/Post.jsx","Components/PostsList.jsx","UI/Input/Input.jsx","Components/CreatePost.jsx","UI/Modal/Modal.jsx","UI/Select/Select.jsx","API/PostsService.jsx","hooks/useSelectedAndSearchedPosts.jsx","hooks/useFetching.jsx","utils/pages.jsx","pages/Posts.jsx","pages/About.jsx","pages/PostIdPage.jsx","pages/Error.jsx","App.js","index.js"],"names":["module","exports","Layout","className","to","Home","Button","children","props","CSS","button","Post","post","index","setPosts","posts","navigate","useNavigate","id","title","body","onClick","ID","filter","PostsList","style","marginTop","TransitionGroup","map","CSSTransition","timeout","classNames","Input","input","CreatePost","newPost","setNewPost","setModal","type","placeholder","onChange","e","target","value","preventDefault","Date","now","addPost","Modal","modal","defaultClasses","push","active","join","stopPropagation","Select","defaultOption","options","margin","select","defaultValue","disabled","opt","name","PostsService","limit","page","axios","get","params","_limit","_page","res","useSelectedAndSearchedPosts","selectedPosts","searchedPosts","selected","useMemo","sort","a","b","localeCompare","useSelectedPosts","includes","useFetching","callback","useState","loader","setLoader","error","setError","fetching","message","getPageCount","totalCount","Math","ceil","Posts","pageTitle","setSelectedPosts","setSearchedPosts","totalPages","setTotalPages","setPage","getAll","response","data","headers","fetchPosts","pages","total","i","pagesArray","useEffect","selectedAndSearched","marginBottom","length","p","updatePage","About","PostIdPage","useParams","setPost","getById","fetchPostById","Error","App","path","element","exact","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.38a493f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__2EV2G\",\"body\":\"Modal_body__TG1Pc\",\"active\":\"Modal_active__16WVd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2KCMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2VHxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__BqUp0\"};","import { Outlet, Link } from \"react-router-dom\";\r\n\r\nconst Layout = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"navbar\">\r\n\t\t\t\t<nav>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/posts\">Posts</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Link to=\"/about\">About us</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t\t<Outlet />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Layout;\r\n","export default function Home() {\r\n\treturn <h1>Home page</h1>;\r\n}\r\n","import CSS from \"./Button.module.css\";\r\n\r\nexport default function Button({ children, ...props }) {\r\n\treturn (\r\n\t\t<button className={CSS.button} {...props}>\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport Button from \"../UI/Button/Button\";\r\n\r\nexport default function Post({ post, index, setPosts, posts }) {\r\n\tconst navigate = useNavigate();\r\n\r\n\tfunction deletePost(ID) {\r\n\t\tsetPosts(posts.filter((post) => post.id !== ID));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"post\">\r\n\t\t\t<div>\r\n\t\t\t\t<small>#{index + 1}</small>\r\n\t\t\t\t<br />\r\n\t\t\t\t<strong>ID: {post.id}</strong>\r\n\t\t\t\t<h2>{post.title}</h2>\r\n\t\t\t\t<div>{post.body}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btns-wrap\">\r\n\t\t\t\t<Button onClick={() => navigate(`/posts/${post.id}`)}>\r\n\t\t\t\t\tRead more\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={() => deletePost(post.id)}>Delete</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import Post from \"./Post\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\n\r\nexport default function PostsList({ posts, setPosts }) {\r\n\treturn (\r\n\t\t<div style={{ marginTop: 15 }}>\r\n\t\t\t<TransitionGroup>\r\n\t\t\t\t{posts.map((post, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\t\tkey={post.id}\r\n\t\t\t\t\t\t\ttimeout={500}\r\n\t\t\t\t\t\t\tclassNames=\"post\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Post\r\n\t\t\t\t\t\t\t\tpost={post}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsetPosts={setPosts}\r\n\t\t\t\t\t\t\t\tposts={posts}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</TransitionGroup>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import CSS from \"./Input.module.css\";\r\n\r\nexport default function Input({ ...props }) {\r\n\treturn <input className={CSS.input} {...props} />;\r\n}\r\n","import Input from \"../UI/Input/Input\";\r\nimport Button from \"../UI/Button/Button\";\r\n\r\nexport default function CreatePost({\r\n\tnewPost,\r\n\tsetNewPost,\r\n\tsetPosts,\r\n\tposts,\r\n\tsetModal\r\n}) {\r\n\tfunction addPost(e) {\r\n\t\te.preventDefault();\r\n\t\tif (newPost.title && newPost.body) {\r\n\t\t\tsetPosts([...posts, { id: Date.now(), ...newPost }]);\r\n\t\t\tsetModal(false);\r\n\t\t\tsetNewPost({ title: \"\", body: \"\" });\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<Input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Input title\"\r\n\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tsetNewPost({ ...newPost, title: e.target.value })\r\n\t\t\t\t}\r\n\t\t\t\tvalue={newPost.title}\r\n\t\t\t/>\r\n\t\t\t<Input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Input text\"\r\n\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tsetNewPost({ ...newPost, body: e.target.value })\r\n\t\t\t\t}\r\n\t\t\t\tvalue={newPost.body}\r\n\t\t\t/>\r\n\t\t\t<Button onClick={(e) => addPost(e)}>Add post</Button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import CSS from \"./Modal.module.css\";\r\n\r\nexport default function Modal({ children, modal, setModal }) {\r\n\tconst defaultClasses = [CSS.modal];\r\n\r\n\tif (modal) {\r\n\t\tdefaultClasses.push(CSS.active);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={defaultClasses.join(\" \")}\r\n\t\t\tonClick={() => setModal(false)}\r\n\t\t>\r\n\t\t\t<div className={CSS.body} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import CSS from \"./Select.module.css\";\r\n\r\nexport default function Select({ defaultOption, options, ...props }) {\r\n\treturn (\r\n\t\t<div style={{ margin: \"10px 0\" }}>\r\n\t\t\t<select className={CSS.select} defaultValue=\"\" {...props}>\r\n\t\t\t\t<option value=\"\" disabled>\r\n\t\t\t\t\t{defaultOption}\r\n\t\t\t\t</option>\r\n\t\t\t\t{options.map((opt) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={opt.name} name={opt.name}>\r\n\t\t\t\t\t\t\t{opt.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport default class PostsService {\r\n\tstatic async getAll(limit = 10, page = 1) {\r\n\t\tconst res = await axios.get(\r\n\t\t\t\"https://jsonplaceholder.typicode.com/posts\",\r\n\t\t\t{\r\n\t\t\t\tparams: {\r\n\t\t\t\t\t_limit: limit,\r\n\t\t\t\t\t_page: page\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\treturn res;\r\n\t}\r\n\r\n\tstatic async getById(id) {\r\n\t\tconst res = await axios.get(\r\n\t\t\t\"https://jsonplaceholder.typicode.com/posts/\" + id\r\n\t\t);\r\n\t\treturn res;\r\n\t}\r\n}\r\n","import { useMemo } from \"react\";\r\n\r\nexport function useSelectedPosts(selectedPosts, posts) {\r\n\tconst selected = useMemo(\r\n\t\tfunction () {\r\n\t\t\tif (selectedPosts) {\r\n\t\t\t\treturn posts.sort((a, b) =>\r\n\t\t\t\t\ta[selectedPosts].localeCompare(b[selectedPosts])\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn posts;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[selectedPosts, posts]\r\n\t);\r\n\r\n\treturn selected;\r\n}\r\n\r\nexport function useSelectedAndSearchedPosts(\r\n\tselectedPosts,\r\n\tposts,\r\n\tsearchedPosts\r\n) {\r\n\tconst selected = useSelectedPosts(selectedPosts, posts);\r\n\tconst selectedAndSearched = useMemo(\r\n\t\tfunction () {\r\n\t\t\tif (searchedPosts) {\r\n\t\t\t\treturn posts.filter((post) =>\r\n\t\t\t\t\tpost.title.includes(searchedPosts)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn selected;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[searchedPosts, selected]\r\n\t);\r\n\r\n\treturn selectedAndSearched;\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n\tconst [loader, setLoader] = useState(false);\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tconst fetching = async () => {\r\n\t\ttry {\r\n\t\t\tsetLoader(true);\r\n\t\t\tawait callback();\r\n\t\t} catch (e) {\r\n\t\t\tsetError(e.message);\r\n\t\t} finally {\r\n\t\t\tsetLoader(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn [fetching, loader, error];\r\n};\r\n","export const getPageCount = (totalCount, limit) => {\r\n\treturn Math.ceil(totalCount / limit);\r\n};\r\n\r\nexport const pagesArray = (total) => {\r\n\tlet pages = [];\r\n\r\n\tfor (let i = 0; i < total; i++) {\r\n\t\tpages.push(i + 1);\r\n\t}\r\n\r\n\treturn pages;\r\n};\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport PostsList from \"../Components/PostsList\";\r\nimport CreatePost from \"../Components/CreatePost\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport Input from \"../UI/Input/Input\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport Select from \"../UI/Select/Select\";\r\nimport PostsService from \"../API/PostsService\";\r\nimport { useSelectedAndSearchedPosts } from \"../hooks/useSelectedAndSearchedPosts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport { getPageCount, pagesArray } from \"../utils/pages\";\r\n\r\nexport default function Posts() {\r\n\tconst [pageTitle, setPostsTitle] = useState(\"Posts lists\");\r\n\tconst [posts, setPosts] = useState([]);\r\n\tconst [newPost, setNewPost] = useState({ title: \"\", body: \"\" });\r\n\tconst [modal, setModal] = useState(false);\r\n\tconst [selectedPosts, setSelectedPosts] = useState(\"\");\r\n\tconst [searchedPosts, setSearchedPosts] = useState(\"\");\r\n\tconst [totalPages, setTotalPages] = useState(\"\");\r\n\tconst [limit, setLimit] = useState(10);\r\n\tconst [page, setPage] = useState(1);\r\n\r\n\tconst [fetchPosts, loader, error] = useFetching(async () => {\r\n\t\tconst response = await PostsService.getAll(limit, page);\r\n\t\tsetPosts(response.data);\r\n\t\tsetTotalPages(getPageCount(response.headers[\"x-total-count\"], limit));\r\n\t});\r\n\r\n\tconst pages = pagesArray(totalPages);\r\n\r\n\tfunction updatePage(p) {\r\n\t\tsetPage(p);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\tfunction () {\r\n\t\t\tfetchPosts();\r\n\t\t},\r\n\t\t[page]\r\n\t);\r\n\r\n\t// async function fetchPosts() {\r\n\t// \tif (loader) {\r\n\t// \t\tsetTimeout(async function () {\r\n\t// \t\t\tconst data = await PostsService.getAll();\r\n\t// \t\t\tsetPosts(data);\r\n\t// \t\t\tsetLoader(false);\r\n\t// \t\t}, 2000);\r\n\t// \t}\r\n\t// }\r\n\r\n\tconst selectedAndSearched = useSelectedAndSearchedPosts(\r\n\t\tselectedPosts,\r\n\t\tposts,\r\n\t\tsearchedPosts\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<h1 style={{ marginBottom: 20 }}>{pageTitle}</h1>\r\n\r\n\t\t\t<Button onClick={() => setModal(true)}>Add post</Button>\r\n\r\n\t\t\t<Modal modal={modal} setModal={setModal}>\r\n\t\t\t\t<CreatePost\r\n\t\t\t\t\tnewPost={newPost}\r\n\t\t\t\t\tsetNewPost={setNewPost}\r\n\t\t\t\t\tsetPosts={setPosts}\r\n\t\t\t\t\tposts={posts}\r\n\t\t\t\t\tsetModal={setModal}\r\n\t\t\t\t/>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Select\r\n\t\t\t\tdefaultOption=\"Select by\"\r\n\t\t\t\toptions={[\r\n\t\t\t\t\t{ name: \"title\", value: \"title\" },\r\n\t\t\t\t\t{ name: \"body\", value: \"body\" }\r\n\t\t\t\t]}\r\n\t\t\t\tonChange={(e) => setSelectedPosts(e.target.value)}\r\n\t\t\t/>\r\n\r\n\t\t\t<Input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"search\"\r\n\t\t\t\tonChange={(e) => setSearchedPosts(e.target.value)}\r\n\t\t\t/>\r\n\r\n\t\t\t{error && <h2>{error}</h2>}\r\n\r\n\t\t\t{loader ? (\r\n\t\t\t\t<h2 style={{ marginTop: 15 }}>The posts are loading...</h2>\r\n\t\t\t) : selectedAndSearched.length ? (\r\n\t\t\t\t<PostsList posts={selectedAndSearched} setPosts={setPosts} />\r\n\t\t\t) : (\r\n\t\t\t\t<h2 style={{ marginTop: 15 }}>The posts list is empty</h2>\r\n\t\t\t)}\r\n\r\n\t\t\t{pages.map((p) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\tclassName={p === page ? \"page page-current\" : \"page\"}\r\n\t\t\t\t\t\tonClick={() => updatePage(p)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{p}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function About() {\r\n\treturn <h1>About page</h1>;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PostsService from \"../API/PostsService\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\n\r\nexport default function PostIdPage() {\r\n\tconst params = useParams();\r\n\tconst [post, setPost] = useState({});\r\n\tconst [fetchPostById, loader, error] = useFetching(async () => {\r\n\t\tconst response = await PostsService.getById(params.id);\r\n\t\tsetPost(response.data);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPostById();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{error && <h2>{error}</h2>}\r\n\r\n\t\t\t{loader ? (\r\n\t\t\t\t<h2 style={{ marginTop: 15 }}>The posts are loading...</h2>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1> {post.title} </h1>\r\n\t\t\t\t\t<p> {post.body} </p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function Error() {\r\n\treturn <h1>Error page 404</h1>;\r\n}\r\n","import \"./styles.css\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Layout from \"./pages/Layout\";\nimport Home from \"./pages/Home\";\nimport Posts from \"./pages/Posts\";\nimport About from \"./pages/About\";\nimport PostIdPage from \"./pages/PostIdPage\";\nimport Error from \"./pages/Error\";\n\nexport default function App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/\" element={<Layout />}>\n\t\t\t\t\t<Route index element={<Home />} />\n\t\t\t\t\t<Route path=\"/about\" element={<About />} />\n\t\t\t\t\t<Route exact path=\"/posts\" element={<Posts />} />\n\t\t\t\t\t<Route exact path=\"/posts/:id\" element={<PostIdPage />} />\n\t\t\t\t\t<Route path=\"*\" element={<Error />} />\n\t\t\t\t</Route>\n\t\t\t</Routes>\n\t\t</Router>\n\t);\n}\n","import { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(<App />);\n"],"sourceRoot":""}